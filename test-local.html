<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Maturity Snapshot - Local Test</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Bangers&family=Comic+Neue:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <header class="hero">
            <div class="hero-content">
                <h1 class="title">ðŸ¤– AI MATURITY SNAPSHOT</h1>
                <p class="subtitle">Get Your Organization's AI Readiness Score in 5 Minutes!</p>
                <div class="hero-badge">
                    <span class="badge-text">FIRE MOUNTAIN LABS</span>
                </div>
            </div>
        </header>

        <main class="main-content">
            <div class="quiz-container">
                <div class="quiz-header">
                    <h2>ðŸŽ¯ Local Test Mode</h2>
                    <p>This is a test version for local development. EmailJS is disabled.</p>
                </div>
                
                <div id="questions-container">
                    <!-- Questions will be loaded here -->
                </div>
                
                <div class="form-actions">
                    <button type="button" id="generate-snapshot" class="btn btn-primary">
                        ðŸŽ´ Generate Snapshot
                    </button>
                </div>
            </div>
        </main>
    </div>

    <script>
        // Local test version - simplified for testing
        let quizConfig = null;

        document.addEventListener('DOMContentLoaded', function() {
            loadQuizConfig().then(() => {
                renderQuiz();
                setupEventListeners();
            });
        });

        async function loadQuizConfig() {
            try {
                const response = await fetch('ai_maturity_quick_check.json');
                quizConfig = await response.json();
            } catch (error) {
                console.error('Error loading quiz config:', error);
            }
        }

        function renderQuiz() {
            if (!quizConfig || !quizConfig.questions) return;

            const container = document.getElementById('questions-container');
            container.innerHTML = '';

            quizConfig.questions.forEach((question, index) => {
                const questionDiv = document.createElement('div');
                questionDiv.className = 'question';
                questionDiv.innerHTML = `
                    <div class="question-header">
                        <span class="question-number">${index + 1}</span>
                        <span class="question-category">${question.category}</span>
                    </div>
                    <div class="question-text">${question.question}</div>
                    <div class="choices">
                        ${Object.entries(question.choices).map(([key, choice]) => `
                            <label class="choice">
                                <input type="radio" name="question_${question.id}" value="${key}" data-score="${choice.score}">
                                <div class="choice-label">
                                    <div class="choice-text">${choice.text}</div>
                                    <div class="choice-description">${choice.description}</div>
                                </div>
                            </label>
                        `).join('')}
                    </div>
                `;
                container.appendChild(questionDiv);
            });
        }

        function setupEventListeners() {
            document.getElementById('generate-snapshot').addEventListener('click', () => {
                const answers = collectAnswers();
                if (answers) {
                    const results = calculateResults(answers);
                    alert(`Test Results:\nScore: ${results.totalScore}/20\nLevel: ${results.maturityLevel}`);
                }
            });
        }

        function collectAnswers() {
            const answers = {};
            const questions = document.querySelectorAll('.question');
            
            questions.forEach((question, index) => {
                const selectedChoice = question.querySelector('input[type="radio"]:checked');
                if (selectedChoice) {
                    const questionId = quizConfig.questions[index].id;
                    answers[questionId] = {
                        choice: selectedChoice.value,
                        score: parseInt(selectedChoice.dataset.score)
                    };
                }
            });
            
            if (Object.keys(answers).length !== quizConfig.questions.length) {
                alert('Please answer all questions');
                return null;
            }
            
            return answers;
        }

        function calculateResults(answers) {
            const totalScore = Object.values(answers).reduce((sum, answer) => sum + answer.score, 0);
            const percentage = Math.round((totalScore / (quizConfig.questions.length * 4)) * 100);
            
            let maturityLevel = 'Low Maturity';
            if (percentage >= 80) maturityLevel = 'High Maturity';
            else if (percentage >= 60) maturityLevel = 'Mid-High Maturity';
            else if (percentage >= 40) maturityLevel = 'Mid Maturity';
            
            return { totalScore, percentage, maturityLevel };
        }
    </script>
</body>
</html> 